# [官方命令帮助文档](https://docs.docker.com/engine/reference/commandline)

## 帮助命令

    docker --help 
    
该命令中可以查询到docker其他命令相关信息

    <docker相关命令> --help

该命令可以查询对应命令的相关信息























# 下列为历史笔记
## 查看版本信息

    docker version

## 显示docker的系统信息

    docker info
    
* 该命令还会显示镜像与容器的数量

## 镜像命令

* 列出的命令都有额外参数，详情请查看对应官方文档。

### 查看本地主机中的全部镜像

    docker images

该命令会返回系统中镜像信息，第一行为意义字段，第二行开始为镜像信息。


* 命令返回结果显示字段解释

| 对应字段 | 解施 |
|:--|:--|
|REPOSITORY|    镜像仓库源名字|
|TAG|  仓库标签|
|IMAGE ID|  镜像ID|
|CREATED| 镜像创建时间|
|SIZE|  镜像大小|

* 常用选项


    -q  仅显示容器ID

### 镜像搜索命令

    docker search <相关服务名>
    
该命令可以搜索到对应服务的相关镜像

### 镜像下载命令

    docker pull <相关服务名>[:tag]
    
* tag为版本号，tag对应版本必须在官方中能支持，之后并且能在所有的镜像库里面能找到。
    
该命令将会下载对应服务的相关镜像，不加参数时默认使用服务的最新版本的镜像

#### 镜像命令下载的原理
docker pull下载时使用了联合文件系统。

### 镜像删除命令
    
    docker rmi <镜像名称/镜像ID>

* 常用选项


    -f 强制删除


删除全部的容器

    docker rmi -f $(docker images aq)
    
    
## 容器命令
### 使用镜像启动容器

    docker run <image>
    
容器一旦运行过就会一直存在(之后不运行也存在)，除非删除。  
每一个启动的容器都会有一个不同的容器ID。
    
* 常用选项  


    --name="Name"   给容器命名，不命名时启动的容器名称等于镜像ID
    -d              以后台的方式启动容器
    -it             以交互的方式运行，容器启动后会进入容器，比如进入centos容器控制台。
    -p              指定容器中服务使用的端口号
        -p  IP:主机端口:容器端口
        -p  主机端口:容器端口
        -p  容器端口
        容器端口        //也可以直接不写p写一个容器端口 
        //要映射多个端口时加多个-p和映射端口
                    
    -P(大写P)              随机指定一个端口号给容器中的服务使用
    
* 后台启动容器时，如果容器在本机器系统中没有一个前台进程，docker发现没有应用，将会关闭容器。
    
### 查询运行容器命令

    docker ps

*该命令显示的容器ID为容器全ID的缩写

* 常用选项
    

    -a  结果包含历史运行过的容器信息
    -n=<number> 显示最近创建的容器信息，包括历史，n的最近n个创建过的容器信息。
    -q  仅显示容器编号
    
### 容器的不停止退出
在容器中快捷键

    ctrl + P + Q

### 容器的删除

    docker rm <容器ID>

* 常用选项


    -f 强制删除，运行中的容器也可以删除

删除全部容器

    docker rm - f $(docker ps -aq)
    
### 容器的启动与停止
启动容器

    docker start <容器id>
    
重启

    docker restart <容器id>
    
停止运行

    docker stop <容器id>
    
暴力强制中止一个容器

    docker kill <容器id>
    
### 容器日志的查看

    docker logs
    
只能查看容器的运行日志

* 常用选项


    -tf 设置日志输出的相关格式
    -n  设置日志的输出不随着新的写入而改变
    
* 常用相关命令


    //查看容器日志最后number行，会根据日志的写入而刷新，同tail命令
    docker logs -tf --tail <number> 033b37322567
    
### 查看容器中进程在实际主机中的信息

    docker top <容器id>

* 可以在主机中使用杀死进程命令来杀死该主机中的进程

### 查看镜像的源数据
改名了查询了容器中所有相关的数据

    docker inspect 

### 进入容器命令
#### docker exec

    docker exec <容器id> <使用的shell>
    
* 通常用法


    //该命令以交互的方式用一个shell进入一个容器
    docker exec -it <容器id> <使用的shell>
    
#### docker attach

    docker attach <容器id>
    
#### 两者区别
docker exec进入容器后会打开一个新的终端，可以选择进入操作(-it)。
  
docker attach会进入容器当前正在执行的终端(一开始run的时候运行的终端)，不会启动进程

### 从容器内拷贝文件到主机上的命令

    docker cp <容器id>:<容器内文件绝对路径> <主机内文件绝对路径>

* 从主机上拷贝文件到容器中常使用挂载的方法

* 从容器中拷贝数据时与容器的运行状态无关(容器关闭数据还在)，无论他是关闭还是启动，都可以从容器中拷贝数据到主机。

### 查看容器资源占用状态

    docker stats [容器id]