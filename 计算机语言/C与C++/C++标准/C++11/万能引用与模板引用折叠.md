## 万能引用

万能引用(universal reference)，也称为未定义引用，如果一个变量或参数被声明为 `T&&`，并且需要推导 `T` 的类型，那么该变量或参数即为万能引用。

万能引用，既可以是左值引用，用来绑定左值；也可以是右值引用，用来绑定右值。

```c
#include <iostream>
using namespace std;

template <typename T>    // 函数模板
void myfunc(T&& val)     // 万能引用
{
	cout << val << endl;
	return;
}

int main()
{
	myfunc(120); // ok，自动类型推导，120是右值，T为int类型，val为int&&类型

	int i = 180;
	myfunc(i); // ok，自动类型推导，i是左值，T为int&类型，val为int&类型

    return 0;
}
```

* ### const会剥夺万能引用的资格

## 引用折叠

引用分为左值引用 T& 和右值引用 T&& 两种，那么将这两种引用进行排列组合，就会有四种情况。

所有的引用折叠最终都代表一个引用，要么是左值引用，要么是右值引用。

规则就是：如果任一引用为左值引用，则结果为左值引用；否则，结果为右值引用。

|                   | 引用折叠前 | 引用折叠后 |
| ----------------- | ---------- | ---------- |
| 左值引用-左值引用 | T& &       | T&         |
| 左值引用-右值引用 | T& &&      | T&         |
| 右值引用-左值引用 | T&& &      | T&         |
| 右值引用-右值引用 | T&& &&     | T&&        |





		
		
		
		