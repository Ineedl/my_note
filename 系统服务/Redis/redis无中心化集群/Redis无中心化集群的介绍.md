## 无中心化集群的组成
Redis无中心化集群由N个配置了主从复制的主机群组成，每个主机群的master主机在集群中负责主机群之间的联系。

简单的来说，集群由N个参与主从复制的master主机组成，这N个master主机每个都有很多的从机。

* 每个主机复制群为一个节点，而不是一个主机为一个节点。

* 无中心化集群中的节点自带哨兵功能。

当集群中的某个节点全部挂掉后(节点中的主从全部挂掉)，集群仍然能正常工作。

## 集群插槽
Redis集群中使用了Hash表来存储数据编号，该Hash表中的每个位置被称为一个插槽。

Redis集群规定有16384个插槽(0-16383，即Hash表长度为16384)，集群们均分这16384个插槽，每个独自管理自己负责的这一块。

插入数据时，Redis会根据数据的key计算其插槽值，然后将数据存入对应插槽管理的节点。

## 集群的自动分配

启动集群后，会根据命令来自动的分配集群节点(每个节点中主机与他们的从机)，分配规则使用以下的规则。

`尽量保证每个master运行在不同的IP地址与地址段，每个从库与主库不在一个IP地址与地址段上。`