## chan结构

go的chan相当于一个带锁的环形队列。

## chan的阻塞

当chan因插入满的chan和消费空的chan而阻塞时，chan内部会调用GMP中的调度器，来切换至其他携程运行。当插入和消费条件满足时，之前阻塞的协程会被再次唤醒。