## 线程池中的饥饿

当处理需要多个线程的协作工作时，如果这个协作工作中每个位置上的角色共用一个线程池，会出现多个线程扮演一种角色导致其他的角色没有剩余线程扮演而无法继续协作工作继续下去(死锁)。

例：一个生产者消费者模型中，生产者需要在消费者消费后，资源队列剩余空闲才会生产；消费者需要在生产者生产后，资源队列中有物品才能继续消费。计划这个模型中一直有生产与消费的循环，但是如果生产者与消费者公用使用线程池，会出现全部都是消费者或者全部都是生产者的现象，导致计划中的持续生产与消费的循环工作无法持续进行。

## 饥饿解决办法

多线程模型中，不同位置上的角色的工作尽量不要共用一个线程池来进行，除非他们两个的工作没有协作关系。

即不同的任务类型精良使用不同的线程池。除非这两个任务类型无相关的协作任务。