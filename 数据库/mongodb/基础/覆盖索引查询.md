# 定义

覆盖查询是以下的查询：

- 所有的查询字段是索引的一部分
- 所有的查询返回字段在同一个索引中

由于所有出现在查询中的字段是索引的一部分， MongoDB 无需在整个数据文档中检索匹配查询条件和返回使用相同索引的查询结果。

因为索引存在于RAM中，从索引中获取数据比通过扫描文档读取数据要快得多。

如果是以下的查询，不能使用覆盖索引查询：

- 索引中有字段是一个数组
  * 如果索引包含一个数组字段，而查询需要检索数组中的某个元素，那么 MongoDB 不能使用覆盖索引。因为覆盖索引要求索引包含所有查询需要的字段，而不是数组中的特定元素。在这种情况下，MongoDB可能需要访问实际文档数据来检索数组中的特定元素。
- 索引中有字段是一个子文档
  - 如果索引包含一个子文档字段，而查询需要检索子文档中的某个字段，那么 MongoDB 不能使用覆盖索引。因为覆盖索引要求索引包含所有查询需要的字段，而不是子文档中的特定字段。在这种情况下，MongoDB可能需要访问实际文档数据来检索子文档中的特定字段。