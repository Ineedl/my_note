[toc]

## 文件目录结构

skill是一个目录，其中至少包含一个`SKILL.md`文件：

```
skill-name/
└── SKILL.md          # Required
```

## skill.md格式

### 前言（必填）

```
---
name: skill-name
description: A description of what this skill does and when to use it.
---
```

前言包含可选字段：

```
---
name: pdf-processing
description: Extract text and tables from PDF files, fill forms, merge documents.
license: Apache-2.0
metadata:
  author: example-org
  version: "1.0"
---
```

前言组成：

| 名字            | 必须性 | 约束条件                                                     |
| :-------------- | :----- | :----------------------------------------------------------- |
| `name`          | 是的   | 最多64个字符。仅限小写字母、数字和连字符。不得以连字符开头或结尾。 |
| `description`   | 是的   | 最多 1024 个字符。非空。描述技能的效果以及何时使用。         |
| `license`       | 不     | 许可证名称或捆绑许可证文件的引用。                           |
| `compatibility` | 不     | 最多 500 个字符。说明环境要求（目标产品、系统软件包、网络访问等）。 |
| `metadata`      | 不     | 任意键值映射，用于添加元数据。                               |
| `allowed-tools` | 不     | 技能可使用的预先批准工具列表，以空格分隔。（实验性功能）     |

#### `name`

必填`name`字段：

- 必须为 1-64 个字符
- 只能包含 Unicode 小写字母数字字符和连字符（`a-z`和`-`）。
- 不得以……开头或结尾`-`
- 不得包含连续的连字符（`--`）
- 必须与父目录名称匹配

有效示例：

```
name: pdf-processing
name: data-analysis
name: code-review
```

无效示例：

```
name: PDF-Processing  # uppercase not allowed
name: -pdf  # cannot start with hyphen
name: pdf--processing  # consecutive hyphens not allowed
```

#### `description`

必填`description`字段：

- 必须为 1-1024 个字符
- 应该描述该技能的作用以及何时使用。
- 应包含有助于代理识别相关任务的特定关键词。

很好的例子：

```
description: Extracts text and tables from PDF files, fills PDF forms, and merges multiple PDFs. Use when working with PDF documents or when the user mentions PDFs, forms, or document extraction.
```

糟糕的例子：

```
description: Helps with PDFs.
```

#### `license`

可选`license`字段：

- 指明适用于该技能的许可证
- 我们建议尽量简短（可以是许可证名称，也可以是捆绑许可证文件的名称）。

例子：

```
license: Proprietary. LICENSE.txt has complete terms
```

#### `compatibility`

可选`compatibility`字段：

- 如果提供，则必须为 1-500 个字符。
- 只有当你的技能有特定的环境要求时，才应将其包含在内。
- 可以说明目标产品、所需系统软件包、网络接入需求等。

例如：

```
compatibility: Designed for Claude Code (or similar products)
compatibility: Requires git, docker, jq, and access to the internet
```

大多数技能不需要`compatibility`专业领域。

#### `metadata`

可选`metadata`字段：

- 从字符串键到字符串值的映射
- 用于存放额外自定义元数据
- 我们建议使用尽可能独特的key，以避免意外冲突。

例子：

```
metadata:
  author: example-org
  version: "1.0"
```

#### `allowed-tools`

可选`allowed-tools`字段：

- 以空格分隔的已预先批准运行的工具列表
- 实验性功能。不同代理实现对该字段的支持可能有所不同。

例子：

```
allowed-tools: Bash(git:*) Bash(jq:*) Read
```

### 正文内容

在前置信息之后的 Markdown 部分是技能的具体指令内容。格式上没有硬性限制，可以写任何有助于代理执行该任务的内容。建议包括：

- 步骤式说明
- 输入输出示例
- 常见边缘情况解释

注意：一旦代理决定激活某项技能，它会加载整个 `SKILL.md` 文件。因此较长内容建议拆分到引用文件中。

### 可选目录

skills文件目录下除了必需的 `SKILL.md` 外，还可以包含以下可选文件夹来支持技能功能：

- **scripts/**  — 可执行脚本，应当自包含或清晰说明依赖，包含友好错误信息，稳妥处理边缘情况。常见语言包括 Python、Bash、JavaScript。
- **references/** — 额外文档，按需加载，例如 `REFERENCE.md`, `FORMS.md` 或领域文件（如 finance.md 等）。
- **assets/** — 静态资源，比如模板、图像、数据文件等。

### **逐级披露（Progressive disclosure）**

为了高效利用上下文：

1. 启动时只加载所有技能的 **metadata（name + description）**（约 100 tokens）。
2. 激活时加载该技能的完整 `SKILL.md` 说明（建议 < 5000 tokens）。
3. 按需加载其他资源文件（scripts、references、assets）。

建议主 `SKILL.md` 不超过 500 行，详细参考资料放到单独文件。

------

### **文件引用（File references）**

从技能根目录引用其他文件时，应使用相对路径，例如：

```
See [the reference guide](references/REFERENCE.md) for details.

Run the extraction script:
scripts/extract.py
```

建议引用深度不超过一级。